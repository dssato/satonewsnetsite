<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">

        <title>{{title}} | Sato News Network</title>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <link href="/newspaper.css" rel="stylesheet" type="text/css" />
        <link href="/article_previews.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css2?family=Archivo+Narrow:wght@700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Archivo+Narrow:wght@700&family=Mukta&display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="menu">
            <a href="/" class="home-link">Sato News Network</a>
        </div>

        <div class="content">
            <div class="banner">
                <img src="{{logo}}"/>
                <div class="issue">
                    <h2>Issue No. </h2>
                    <input id="issue" type="number" value="{{issue}}">
                </div>
            </div>
            <script>
            document.getElementById("issue").addEventListener("change", (e) => {
                window.location.href = "/newspaper/{{id}}/" + e.target.value;
                e.target.value = {{issue}};
            });
            </script>
            <script src="/newspaper.js"></script>
            <div class="paper">
                <div class="headline">
                    {{#each headlines}}
                        <a href="/read/{{this.id}}" style="text-decoration: none"><div class="article-headline article-style--{{this.style}}">
                            <div class="article-image--{{this.style}}" style="background-image: url('{{this.image}}')"></div>
                            <div class="article-info--{{this.style}}">
                                <h2>{{this.title}}</h2>
                                <span class="author">{{this.author}}</span>
                            </div>
                            <div class="article-desc--{{this.style}}">
                                <p id="desc_{{this.id}}"></p>
                            </div>
                        </div></a>
                        <script>document.getElementById("desc_{{this.id}}").innerHTML = getPreviewText('{{{this.article_json}}}');</script>
                    {{/each}}
                </div>
                <div>
                    <div class="left">
                        {{#each left}}
                            <a href="/read/{{this.id}}" style="text-decoration: none"><div class="article-left article-style--{{this.style}}">
                                <div class="article-image--{{this.style}}" style="background-image: url('{{this.image}}')"></div>
                                <div class="article-info--{{this.style}}">
                                    <h2>{{this.title}}</h2>
                                    <span class="author">{{this.author}}</span>
                                </div>
                                <div class="article-desc--{{this.style}}">
                                    <p id="desc_{{this.id}}"></p>
                                </div>
                            </div></a>
                            <script>document.getElementById("desc_{{this.id}}").innerHTML = getPreviewText('{{{this.article_json}}}');</script>
                        {{/each}}
                    </div>
                    <div class="right">
                        {{#each right}}
                            <a href="/read/{{this.id}}" style="text-decoration: none"><div class="article-right article-style--{{this.style}}">
                                <div class="article-image--{{this.style}}" style="background-image: url('{{this.image}}')"></div>
                                <div class="article-info--{{this.style}}">
                                    <h2>{{this.title}}</h2>
                                    <span class="author">{{this.author}}</span>
                                </div>
                                <div class="article-desc--{{this.style}}">
                                    <p id="desc_{{this.id}}"></p>
                                </div>
                            </div></a>
                            <script>document.getElementById("desc_{{this.id}}").innerHTML = getPreviewText('{{{this.article_json}}}');</script>
                        {{/each}}
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>